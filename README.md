Для запуска используейте start.sh и start-docker.sh 
(версии with_prefix нужны моего хостинга когда есть прокси вебсервер для множества проектов на одном домене)
для запуска на винде достаточно команды на проброс порта и 
docker run -dp 30001:80 -e DB_HOST=host.docker.internal imloader 

MySQL и Redis поднимаются либо в хост системе либо рядом в докер-контенерах но подключение к ним идет через адрес хоста
(поэтому может потребоваться включить возможность подключения к ним не только с localhost)
используемые пароли можно настроить через переменные окружения
дефолтные значения можно увидеть в /pkg/config/config.go

У проекта также при запуску хостится swagger 2.0 по пути /swagger/index.html


Основные роуты
- POST /upload - загружает JPG картинки в соотвествии с требованиями заданий
- GET /get/{id}?scale=x - возвращает картинку по ID (и масштабирует при необходимости)
Дополнительный роут для 5го задания 
- POST /compare - принимает на вход две JPG изображения и выдает результат по их сравнению (см. в конце описание к 5ому заданию)


Тестовый скрипт написан на питоне 3: test-script.py
он делает загрузку изображения из /testdata/ и потом запрашивает его же по полученной идентификатору
и проверяет что ответ 200


python3 ./test-script.py http://127.0.0.1 30001 ""


Проект хостится по адресу

https://trukach000.ru/imloader

сваггер - https://trukach000.ru/imloader/swagger/index.html


## 5ое ЗАДАНИЕ

Создан метод /compare (присутсвует в swagger) 
он принимает два изображения в multipart/formdata (image1, image2)
вычисляет для них pHash'ы и считает Хэммингово расстояние между данными хэшами

Трешхолд для установки подобности изображений я выставил  hammingTreshold = 3 (чисто эмпирическим путем), мне кажется это лучше всего соотвествует 10% различия в изображениях
